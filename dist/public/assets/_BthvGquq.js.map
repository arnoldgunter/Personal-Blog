{"version":3,"file":"_BthvGquq.js","sources":["../../../src/tags/aside.marko"],"sourcesContent":["import { pb } from \"../lib/pb\";\n\n<try>\n    <@placeholder>\n        <div>Wird geladen...</div>\n    </@placeholder>\n\n    <@catch|err|>\n        <div>Fehler: ${err.message}</div>\n    </@catch>\n\n    <await|data|=fetchSidebarData()>\n        <div class=\"aside\">\n            <h4>Latest Posts</h4>\n            <ul>\n                <for|post| of=data.latestPosts>\n                    <li>\n                        <a href=`/post/${post.slug}` class=\"post-link\">\n                            <small>\n                                ${new Intl.DateTimeFormat(\"en-US\", {\n                                    year: \"numeric\",\n                                    month: \"long\",\n                                    day: \"numeric\",\n                                }).format(new Date(post.created))}\n                            </small>\n                            <if=(post.title.length > 50)>\n                                <h6>${post.title.slice(0, 50)}...</h6>\n                            </if>\n                            <else>\n                                <h6>${post.title}</h6>\n                            </else>\n                        </a>\n                    </li>\n                </for>\n            </ul>\n\n            <h5>Tags</h5>\n            <ul class=\"tag-list\">\n                <for|tag| of=data.tags>\n                    <li>\n                        <a href=`/tag/${tag.slug}` class=\"tag-link\">\n                            ${tag.name}\n                        </a>\n                    </li>\n                </for>\n            </ul>\n        </div>\n    </await>\n</try>\nstatic const fetchSidebarData = async () => {\n    // Neueste Posts\n    const postsRes = await pb.collection(\"posts\").getList(1, 5, {\n        sort: \"-created\",\n        fields: \"id,collectionId,collectionName,title,slug,created,cover\",\n    });\n\n    // Tags mit Count\n    const tags = await pb.collection(\"tags\").getFullList({\n        sort: \"name\",\n    });\n\n    return {\n        latestPosts: postsRes.items,\n        tags: tags,\n    };\n};\n\n<style>\n    .aside {\n        padding: 1.5rem 1rem;\n        border-right: 2px solid var(--line-color);\n    }\n    .aside ul {\n        list-style: none;\n        padding: 0;\n        margin-top: 1rem;\n    }\n    .post-link {\n        text-decoration: none;\n        display: flex;\n        flex-direction: column;\n        margin-bottom: 1rem;\n    }\n    .tag-list {\n        display: flex;\n        flex-wrap: wrap;\n        gap: 0.5rem;\n    }\n    .tag-list li {\n        margin-bottom: 0.5rem;\n    }\n    .tag-link {\n        text-decoration: none;\n        padding: 0.5rem 1rem;\n        font-size: clamp(0.9rem, 0.4vw + 0.6rem, 1.1rem);\n        background-color: var(--line-color);\n        border-radius: 100px;\n    }\n</style>\n"],"names":["fetchSidebarData","postsRes","pb","collection","getList","sort","fields","tags","getFullList","latestPosts","items","_","$for_content2__tag_slug","$scope","a","e","$for_content2__tag_name","b","f","$for_content2__$params","$for_content2__tag","c","d","slug","name","$for_content2","$else_content__post_title","h","$else_content__setup","$else_content","$if_content__post_title","slice","$if_content__setup","$if_content","$for_content__post_slug","$for_content__post_created","Intl","DateTimeFormat","year","month","day","format","Date","g","$for_content__if","$for_content__post_title_length","i","$for_content__$params","$for_content__post","created","$for_content__post_title","title","length","$for_content","$await_content__for","$await_content__data_latestPosts","$await_content__for2","$await_content__data_tags","$await_content__$params","$await_content__data","$await_content","$catch_content__err_message","$catch_content__$params","$catch_content__err","message","$catch_content","$placeholder_content","$try_content__await","$try_content__setup","$try_content","$try","$setup","catch","content","placeholder"],"mappings":"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"}